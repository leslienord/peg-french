# Prompting par Connaissances Générées

import {Screenshot} from 'components/screenshot'
import GENKNOW from '../../img/gen-knowledge.png'

<Screenshot src={GENKNOW} alt="GENKNOW" />

Image Source: [Liu et al. 2022](https://arxiv.org/pdf/2110.08387.pdf)

Les LLMs continuent d'être améliorés et l'une des techniques les plus répandues consiste à incorporer des connaissances ou des informations pour aider le modèle à faire des prédictions plus précises. 

En utilisant une idée similaire, le modèle peut-il également être utilisé pour générer des connaissances avant de faire une prédiction ? C'est ce que tente de faire l'article de [Liu et al. 2022](https://arxiv.org/pdf/2110.08387.pdf) -- générer des connaissances à utiliser dans le cadre du prompt. En particulier, dans quelle mesure cela est-il utile pour des tâches telles que le raisonnement par le bon sens ?

Essayons un simple prompt :

*Prompt:*
```
Un des buts du golf consiste à essayer d'obtenir un total de points plus élevé que les autres. Oui ou non ?
```

*Output:*
```
Oui.
```

Ce type d'erreur révèle les limites des LLMs dans l'exécution de tâches qui requièrent davantage de connaissances sur le monde. Comment améliorer cette situation grâce à la génération de connaissances ?

Tout d'abord, nous générons quelques "connaissances" :

*Prompt:*
```
Input : La Grèce est plus grande que le Mexique.
Connaissance : La Grèce a une superficie d'environ 131 957 km², tandis que le Mexique a une superficie d'environ 1 964 375 km², ce qui fait que le Mexique est 1 389 % plus grand que la Grèce.

Input : Les lunettes s'embuent toujours.
Connaissances : La condensation se produit sur les verres de lunettes lorsque la vapeur d'eau provenant de votre sueur, de votre respiration et de l'humidité ambiante se dépose sur une surface froide, se refroidit et se transforme en minuscules gouttes de liquide, formant un film que vous voyez comme de la buée. Vos lentilles seront relativement froides par rapport à votre respiration, en particulier lorsque l'air extérieur est froid.

Input : Un poisson est capable de penser.
Connaissance : Les poissons sont plus intelligents qu'il n'y paraît. Dans de nombreux domaines, comme la mémoire, leurs capacités cognitives égalent ou dépassent celles des vertébrés "supérieurs", y compris les primates non humains. La mémoire à long terme des poissons leur permet de suivre des relations sociales complexes.

Input : Le fait de fumer beaucoup de cigarettes au cours de sa vie a pour conséquence commune un risque plus élevé que la normale d'être atteint d'un cancer du poumon.
Connaissances : Les personnes qui ont fumé en moyenne moins d'une cigarette par jour au cours de leur vie ont neuf fois plus de risques de mourir d'un cancer du poumon que les personnes qui n'ont jamais fumé. Parmi les personnes qui fumaient entre une et dix cigarettes par jour, le risque de mourir d'un cancer du poumon était près de 12 fois supérieur à celui des personnes n'ayant jamais fumé.

Input : Un rocher est de la même taille qu'un caillou.
Connaissances : Un caillou est un amas de roches dont la taille des particules est comprise entre 4 et 64 millimètres, selon l'échelle sédimentologique d'Udden-Wentworth. Les galets sont généralement considérés comme plus grands que les granules (2 à 4 millimètres de diamètre) et plus petits que les cailloux (64 à 256 millimètres de diamètre).

Input : Une partie du golf consiste à essayer d'obtenir un total de points plus élevé que les autres.
Connaissances :
```

*Connaissances 1:*
```
L'objectif du golf est de jouer une série de trous en un minimum de coups. Un tour de golf se compose généralement de 18 trous. Chaque trou est joué une fois dans le tour sur un parcours de golf standard. Chaque coup compte pour un point et le nombre total de coups est utilisé pour déterminer le vainqueur de la partie.
```

*Connaissances 2:*
```
Le golf est un sport de précision dans lequel les joueurs (ou golfeurs) en compétition utilisent plusieurs types de clubs pour frapper des balles dans une série de trous sur un parcours en utilisant le moins de coups possible. L'objectif est de terminer le parcours avec le score le plus bas, calculé en additionnant le nombre total de coups effectués sur chaque trou. Le joueur qui obtient le score le plus bas gagne la partie.
```

Nous utilisons le prompt fourni dans le document par [Liu et al. 2022](https://arxiv.org/pdf/2110.08387.pdf).

L'étape suivante consiste à intégrer les connaissances et à obtenir une prédiction. J'ai reformaté la question en format QR pour guider le format de la réponse.

*Prompt:*
```
Question: Un des buts du golf consiste à essayer d'obtenir un total de points plus élevé que les autres. Oui ou non ?

Connaissances : L'objectif du golf est de jouer une série de trous en un minimum de coups. Un parcours de golf se compose généralement de 18 trous. Chaque trou est joué une fois sur un parcours de golf standard. Chaque coup est compté comme un point et le nombre total de coups est utilisé pour déterminer le vainqueur de la partie.

Expliquez et répondez : 
```

*Réponse 1 (confiance très élevée) :*
```
Non, l'objectif du golf n'est pas d'obtenir un total de points plus élevé que les autres. L'objectif est plutôt de jouer une série de trous en un minimum de coups. C'est le nombre total de coups qui détermine le vainqueur de la partie, et non le nombre total de points.
```

```
Question: Un des buts du golf consiste à essayer d'obtenir un total de points plus élevé que les autres. Oui ou non ?

Connaissances : Le golf est un sport de précision dans lequel les joueurs (ou golfeurs) utilisent plusieurs types de clubs pour frapper des balles dans une série de trous sur un parcours en utilisant le moins de coups possible. L'objectif est de terminer le parcours avec le score le plus bas, calculé en additionnant le nombre total de coups effectués sur chaque trou. Le joueur qui obtient le score le plus bas gagne la partie.

Expliquez et répondez :
```

*Réponse 2 (la confiance est beaucoup plus faible) :*
```
Oui, une partie du golf consiste à essayer d'obtenir un total de points plus élevé que les autres. Chaque joueur essaie de terminer le parcours avec le score le plus bas, qui est calculé en additionnant le nombre total de coups pris sur chaque trou. Le joueur qui obtient le score le plus bas gagne la partie.
```

Il s'est passé des choses très intéressantes dans cet exemple. Dans la première réponse, le modèle était très confiant, mais dans la seconde, il l'était moins. Je simplifie le processus à des fins de démonstration, mais il y a quelques détails supplémentaires à prendre en compte pour parvenir à la réponse finale. Consultez l'article pour en savoir plus.
